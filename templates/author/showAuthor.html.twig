{% extends 'base.html.twig' %}

{% block title %}D√©tails de {{ author.name }}{% endblock %}

{% block body %}
<div class="container mt-5">
    <div class="card shadow-lg p-4">
        <div class="text-center">
            <img src="{{ author.picture ?? '/images/default-avatar.png' }}" 
                 alt="{{ author.name }}" 
                 class="rounded-circle mb-3 shadow-sm" 
                 width="120" height="120">
            <h2 class="fw-bold">{{ author.name }}</h2>
            <p><strong>ID :</strong> {{ author.id }}</p>
            <p><strong>Email :</strong> {{ author.email }}</p>
        </div>

        <hr>

        <h4 class="mt-4">üìö Liste des livres publi√©s :</h4>
        {% if books is not empty %}
            <ul class="list-group mt-3">
                {% for book in books %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                            <strong>{{ book.title }}</strong><br>
                            <small class="text-muted">
                                Publi√© le {{ book.publishedAt ? book.publishedAt|date('d/m/Y') : 'Non dat√©' }}
                            </small>
                        </div>
                        {% if book.id is defined %}
                            <a href="{{ path('book_show', {'id': book.id}) }}" class="btn btn-outline-primary btn-sm">
                                Voir
                            </a>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-muted mt-3"><em>Aucun livre trouv√© pour cet auteur.</em></p>
        {% endif %}

        <hr>

        <a href="{{ path('author_index') }}" class="btn btn-secondary mt-3">
            ‚Üê Retour √† la liste
        </a>
    </div>
</div>
{% endblock %}
